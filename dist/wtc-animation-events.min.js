"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var WTCAnimationEvents={},detectAnimationEndTime=function(node){var depth=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,fulltime=0,timeRegex=/(\d+\.?(\d+)?)(s|ms)/,currentDepth=0,maxDepth="number"==typeof depth&&0<=depth?depth:-1;return function recursiveLoop(el){if(el instanceof Element){var timebreakdown=timeRegex.exec(window.getComputedStyle(el).transitionDuration),delaybreakdown=timeRegex.exec(window.getComputedStyle(el).transitionDelay),time=timebreakdown[1]*("s"==timebreakdown[3]?1e3:1),delay=delaybreakdown[1]*("s"==delaybreakdown[3]?1e3:1);fulltime<time+delay&&(fulltime=time+delay)}if(-1<maxDepth){if(currentDepth++<maxDepth&&el.childNodes)for(var i in el.childNodes)recursiveLoop(el.childNodes[i])}else if(el.childNodes)for(var i in el.childNodes)recursiveLoop(el.childNodes[i])}(node),"number"!=typeof fulltime&&(fulltime=0),fulltime},addEndEventListener=function(node,listener,depth){if("function"!=typeof listener)listener=function(){return{}};return new Promise(function(resolve,reject){var time=detectAnimationEndTime(node,depth);setTimeout(function(){var returner=listener();returner.time=time,resolve(returner)},time)})},_default=WTCAnimationEvents={addEndEventListener:addEndEventListener,detectAnimationEndTime:detectAnimationEndTime};exports.default=_default;